<div *ngIf="viewMode; else editable">
  <div *ngIf="currentVotacao.id">
    <h4>Enquente</h4>
    <div>
      <label><strong>Titulo:</strong></label>
      {{ currentVotacao.titulo }}
    </div>
    <div>
      <label><strong>Opções:</strong></label>
      {{ currentVotacao.opcaoU }} <br>
      {{ currentVotacao.opcaoD }} <br>
      {{ currentVotacao.opcaoT }}
    </div>
    <div>
      <label><strong>Situação:</strong></label>
      {{ currentVotacao.situacao ? "Em andamento" : "Finalizada" }}
    </div>
    <div>
      <label><strong>Data Inicial:</strong></label>
      {{ currentVotacao.dataInicio }}
    </div>
    <div>
      <label><strong>Data Final:</strong></label>
      {{ currentVotacao.dataFim }}
    </div>
    <a
      class="badge badge-warning"
      routerLink="/votacaos/{{ currentVotacao.id }}"
    >
      Editar
    </a>
  </div>
  <div *ngIf="!currentVotacao">
    <br />
    <p>Clique em uma enquente...</p>
  </div>
</div>
<ng-template #editable>
  <div *ngIf="currentVotacao.id" class="edit-form">
    <h4>Enquente</h4>
    <form>
      <div class="form-group">
        <label for="titulo">Titulo:</label>
        <input
          placeholder="Titulo"
          type="text"
          class="form-control"
          id="titulo"
          required
          [(ngModel)]="currentVotacao.titulo"
          name="titulo"
        />
      </div>
      <div class="form-group">
        <label for="opcoes">Opções:</label>
        <input
          placeholder="Primeira"
          type="text"
          class="form-control"
          id="opcaoU"
          required
          [(ngModel)]="currentVotacao.opcaoU"
          name="opcaoU"
        />
        <br>
        <input
          placeholder="Segunda"
          type="text"
          class="form-control"
          id="opcaoD"
          required
          [(ngModel)]="currentVotacao.opcaoD"
          name="opcaoD"
        />
        <br>
        <input
          placeholder="Terceira"
          type="text"
          class="form-control"
          id="opcaoT"
          required
          [(ngModel)]="currentVotacao.opcaoT"
          name="opcaoT"
        />
      </div>
      <div class="form-group">
        <label>Data Inicial:</label>
        <input
          class="form-control"
          type="date"
          id="dataInicio"
          required
          [(ngModel)]="currentVotacao.dataInicio"
          name="dataInicio"
        />
      </div>
      <div class="form-group">
        <label>Data Final:</label>
        <input
          class="form-control"
          type="date"
          id="dataFim"
          required
          [(ngModel)]="currentVotacao.dataFim"
          name="dataFim"
        />
      </div>
      <div class="form-group">
        <label><strong>Situação:</strong></label>
        {{ currentVotacao.situacao ? "Em andamento" : "Finalizada" }}
      </div>
    </form>
    <button
      class="badge badge-primary mr-2"
      *ngIf="currentVotacao.situacao"
      (click)="updateSituacao(false)"
    >
      Finalizada
    </button>
    <button
      *ngIf="!currentVotacao.situacao"
      class="badge badge-primary mr-2"
      (click)="updateSituacao(true)"
    >
      Em Andamento
    </button>
    <button class="badge badge-danger mr-2" (click)="deleteVotacao()">
      Excluir
    </button>
    <button
      type="submit"
      class="badge badge-success mr-2"
      (click)="updateVotacao()"
    >
      Atualizar
    </button>
    <p>{{ message }}</p>
  </div>
  <div *ngIf="!currentVotacao.id">
    <br />
    <p>Não é possível acessar esta enquente...</p>
  </div>
</ng-template>
